Test Case ID,Unit Test,Expected Result,Actual Results,Remarks
Owner Flagging System,,,,
FLG-01,FlagRenterAsync - Valid Flag Creation,Service creates flag record with correct booking owner and renter IDs and sets status to active.,,
FLG-02,FlagRenterAsync - Duplicate Flag Prevention,Service returns false when attempting to flag same booking twice by same owner.,,
FLG-03,FlagRenterAsync - Invalid Booking ID,Service returns false when booking ID does not exist.,,
FLG-04,FlagRenterAsync - Unauthorized Owner,Service returns false when owner does not own the bike in booking.,,
FLG-05,FlagRenterAsync - Non-Completed Booking,Service returns false when attempting to flag non-completed booking.,,
FLG-06,GetFlagsForRenterAsync - Retrieve Active Flags,Service returns list of active flags for specified renter ordered by creation date descending.,,
FLG-07,HasFlaggedBookingAsync - Check Flag Status,Service returns true if booking has been flagged by owner false otherwise.,,
FLG-08,Flag Notification to Admin,Notification service creates notification for all admin users when flag is created.,,
Terms and Conditions Acknowledgment,,,,
TAC-01,TermsAcknowledged Validation - Required Field,Payment page validation fails if TermsAcknowledged checkbox is not checked.,,
TAC-02,TermsAcknowledged Validation - Checkbox Checked,Payment page validation passes when TermsAcknowledged is true.,,
TAC-03,TermsAcknowledgedAt Timestamp,Booking.TermsAcknowledgedAt is set to current UTC time when terms are acknowledged.,,
TAC-04,Payment Blocked Without Acknowledgment,Payment processing is blocked if TermsAcknowledged is false.,,
TAC-05,Terms Display on Payment Page,Terms and conditions text and checkbox are displayed on payment page.,,
Cash Payment Differentiation,,,,
CPD-01,CashPaymentRequests Filter,Service correctly filters bookings with cash payment method and pending status.,,
CPD-02,OtherPendingRequests Filter,Service correctly filters bookings without cash payment from pending requests.,,
CPD-03,Cash Payment UI Display,Cash payment requests are displayed in separate tab with distinct styling.,,
CPD-04,Auto-Cancel Countdown Display,Countdown timer displays remaining time before auto-cancellation for cash payments.,,
CPD-05,Approve Only Button,Only approve button is shown for cash payment requests no reject button.,,
Bike Types and Available Counts,,,,
BTC-01,BikeTypeCounts Calculation,Service correctly counts total listings per bike type.,,
BTC-02,BikeTypeAvailableCounts Calculation,Service correctly calculates available bikes per type considering quantity field.,,
BTC-03,Bike Type Breakdown Display,Dashboard displays bike type breakdown with both listing count and available count.,,
BTC-04,Empty Bike Type Handling,Service handles cases where no bikes exist for a type gracefully.,,
Enhanced Earnings Analytics,,,,
EAN-01,DailyEarnings Calculation,Service calculates daily earnings correctly for completed bookings on current day.,,
EAN-02,WeeklyEarnings Calculation,Service calculates weekly earnings correctly for completed bookings in current week.,,
EAN-03,MonthlyEarnings Calculation,Service calculates monthly earnings correctly for completed bookings in current month.,,
EAN-04,Earnings Platform Fee,All earnings calculations use 90% of total amount (after 10% platform fee).,,
EAN-05,EarningsHistory Data,Service retrieves earnings history for last 30 days with correct date grouping.,,
EAN-06,Analytics Page Data Loading,Analytics page loads all chart data correctly (daily weekly monthly bike type status distribution top bikes).,,
EAN-07,Daily Earnings Chart Data,Chart data is formatted correctly with labels and values for daily earnings.,,
EAN-08,Weekly Earnings Chart Data,Chart data is formatted correctly with week labels and values.,,
EAN-09,Monthly Earnings Chart Data,Chart data is formatted correctly with month labels and values.,,
EAN-10,Earnings by Bike Type Chart,Chart data groups earnings by bike type correctly.,,
EAN-11,Booking Status Distribution Chart,Chart data counts bookings by status correctly.,,
EAN-12,Top Performing Bikes Chart,Chart data shows top 10 bikes by earnings with correct values.,,
Automatic Booking Cancellation,,,,
ABC-01,BookingAutoCancelService - Service Registration,Background service is registered and starts on application startup.,,
ABC-02,BookingAutoCancelService - Check Interval,Service checks for overdue bookings every 1 minute.,,
ABC-03,BookingAutoCancelService - 5 Minute Rule,Service cancels bookings created more than 5 minutes ago with no completed payment.,,
ABC-04,BookingAutoCancelService - Payment Check,Service only cancels bookings with no completed payments.,,
ABC-05,BookingAutoCancelService - Status Update,Service updates booking status to Cancelled when auto-cancelling.,,
ABC-06,BookingAutoCancelService - Cancellation Reason,Service sets CancellationReason to auto-cancelled message.,,
ABC-07,BookingAutoCancelService - Bike Availability,Service sets bike availability back to Available when booking is cancelled.,,
ABC-08,BookingAutoCancelService - Payment Status Update,Service updates pending payment status to Cancelled.,,
ABC-09,BookingAutoCancelService - Renter Notification,Service sends notification to renter when booking is auto-cancelled.,,
ABC-10,BookingAutoCancelService - Owner Notification,Service sends notification to owner when booking is auto-cancelled.,,
Damage Reporting System,,,,
DAM-01,ReportDamageAsync - Valid Damage Report,Service creates damage record with correct booking bike renter and cost.,,
DAM-02,ReportDamageAsync - Invalid Booking ID,Service returns error when booking ID does not exist.,,
DAM-03,ReportDamageAsync - Unauthorized Owner,Service returns error when owner does not own the bike.,,
DAM-04,ReportDamageAsync - Non-Completed Booking,Service returns error when attempting to report damage for non-completed booking.,,
DAM-05,ReportDamageAsync - Duplicate Damage,Service prevents duplicate damage reports with same description for same booking.,,
DAM-06,ReportDamageAsync - Cost Validation,Service validates damage cost is greater than zero.,,
DAM-07,ReportDamageAsync - Photo URL Validation,Service accepts valid photo URL or null for damage photo.,,
DAM-08,GetDamagesForRenterAsync,Service returns list of pending damages for specified renter.,,
DAM-09,GetDamagesForBookingAsync,Service returns all damages for specified booking.,,
DAM-10,Damage Notification to Renter,Notification service creates notification for renter when damage is reported.,,
DAM-11,Damage Notification to Admin,Notification service creates notification for all admins when damage is reported.,,
DAM-12,Damage Status - Pending,New damage reports have status set to Pending.,,
Red Tag System,,,,
RDT-01,RedTagRenterAsync - Valid Red Tag,Service creates red tag record with correct renter owner and booking IDs.,,
RDT-02,RedTagRenterAsync - Duplicate Prevention,Service prevents duplicate red tags from same owner for same booking.,,
RDT-03,RedTagRenterAsync - Invalid Renter ID,Service returns error when renter ID does not exist.,,
RDT-04,RedTagRenterAsync - Invalid Owner ID,Service returns error when owner ID does not exist.,,
RDT-05,RedTagRenterAsync - Invalid Booking ID,Service returns error when booking ID does not exist or does not belong to owner.,,
RDT-06,RedTagRenterAsync - Reason Validation,Service validates red tag reason is provided and not empty.,,
RDT-07,IsRenterRedTaggedAsync - Active Check,Service returns true if renter has active red tag false otherwise.,,
RDT-08,GetActiveRedTagsForRenterAsync,Service returns list of active red tags for specified renter.,,
RDT-09,Red Tag Notification to Renter,Notification service creates notification for renter when red tagged.,,
RDT-10,Red Tag Notification to Admin,Notification service creates notification for all admins when renter is red tagged.,,
RDT-11,Red Tag Status - Active,New red tags have IsActive set to true.,,
RDT-12,Red Tag Reason Validation,Service accepts valid reasons (Delinquent UnpaidDamages MultipleViolations Fraud Other).,,
Countdown Timer,,,,
CDT-01,Countdown Display - Active Booking,Countdown timer displays for bookings with Active status.,,
CDT-02,Countdown Display - Non-Active Booking,Countdown timer does not display for non-active bookings.,,
CDT-03,Countdown Calculation - Time Remaining,JavaScript correctly calculates time remaining until end date.,,
CDT-04,Countdown Update - Real-time,Countdown updates every second automatically.,,
CDT-05,Countdown Format - Days Hours Minutes Seconds,Countdown displays in format d h m s (e.g. 2d 5h 30m 15s).,,
CDT-06,Countdown Color - Normal State,Countdown displays with green gradient when more than 3 hours remaining.,,
CDT-07,Countdown Color - Warning State,Countdown displays with orange gradient when less than 3 hours but more than 1 hour remaining.,,
CDT-08,Countdown Color - Critical State,Countdown displays with red/orange gradient when less than 1 hour remaining.,,
CDT-09,Countdown Expired State,Countdown displays RENTAL EXPIRED message when time has passed.,,
CDT-10,Countdown End Date Display,End date is displayed below countdown timer.,,
Bike Condition Photos,,,,
BCP-01,UploadConditionPhoto - Valid Upload,Service creates BikeConditionPhoto record with correct booking uploader and photo URL.,,
BCP-02,UploadConditionPhoto - Invalid Booking ID,Service returns error when booking ID does not exist.,,
BCP-03,UploadConditionPhoto - Unauthorized Renter,Service returns error when renter does not own the booking.,,
BCP-04,UploadConditionPhoto - Non-Active Booking,Service returns error when attempting to upload for non-active booking.,,
BCP-05,UploadConditionPhoto - Photo URL Validation,Service validates photo URL is provided and is valid URL format.,,
BCP-06,UploadConditionPhoto - Description Optional,Service accepts null or empty description for photo.,,
BCP-07,GetConditionPhotosForBooking,Service returns all condition photos for specified booking ordered by taken date.,,
BCP-08,Photo Display - Renter View,Photos are displayed on confirmation page for renter.,,
BCP-09,Photo Display - Owner View,Photos are displayed on TrackRenter page for owner.,,
BCP-10,Photo Type - BeforeRental,Photos are marked with type BeforeRental when uploaded during active rental.,,
BCP-11,Photo Timestamp,Photo TakenAt timestamp is set to current UTC time when uploaded.,,
BCP-12,Multiple Photos Support,Service allows multiple photos to be uploaded for same booking.,,
Owner Dashboard Improvements,,,,
ODI-01,Wallet Reference Removal,Wallet quick action card is removed from dashboard.,,
ODI-02,Analytics Quick Action,Analytics quick action card is added to dashboard.,,
ODI-03,Analytics Page Access,Analytics page is accessible from dashboard quick actions.,,
ODI-04,Analytics Data Loading,Analytics page loads all required data (daily weekly monthly earnings bike types status distribution top bikes).,,
ODI-05,Chart.js Integration,Chart.js library is loaded and charts render correctly.,,
ODI-06,Daily Earnings Chart Rendering,Daily earnings line chart renders with correct data.,,
ODI-07,Weekly Earnings Chart Rendering,Weekly earnings bar chart renders with correct data.,,
ODI-08,Monthly Earnings Chart Rendering,Monthly earnings line chart renders with correct data.,,
ODI-09,Bike Type Earnings Chart Rendering,Doughnut chart for earnings by bike type renders correctly.,,
ODI-10,Status Distribution Chart Rendering,Pie chart for booking status distribution renders correctly.,,
ODI-11,Top Bikes Chart Rendering,Horizontal bar chart for top performing bikes renders correctly.,,
ODI-12,Date Range Filter,Analytics page date range filter (30 90 180 365 days) works correctly.,,
Database Models and Relationships,,,,
DBM-01,RenterFlag Model - Navigation Properties,RenterFlag model has correct navigation properties to Booking Owner and Renter.,,
DBM-02,BikeDamage Model - Navigation Properties,BikeDamage model has correct navigation properties to Booking Bike and Renter.,,
DBM-03,RenterRedTag Model - Navigation Properties,RenterRedTag model has correct navigation properties to Renter Owner Booking and ResolvedByAdmin.,,
DBM-04,BikeConditionPhoto Model - Navigation Properties,BikeConditionPhoto model has correct navigation properties to Booking and Uploader.,,
DBM-05,Booking Model - New Collections,Booking model has navigation properties for RenterFlags BikeDamages RenterRedTags and BikeConditionPhotos.,,
DBM-06,User Model - New Collections,User model has navigation properties for RenterFlagsGiven RenterFlagsReceived RedTagsGiven and RedTagsReceived.,,
DBM-07,Bike Model - BikeDamages Collection,Bike model has navigation property for BikeDamages collection.,,
DBM-08,DbContext - RenterFlags DbSet,BiketaBaiDbContext has DbSet for RenterFlags.,,
DBM-09,DbContext - BikeDamages DbSet,BiketaBaiDbContext has DbSet for BikeDamages.,,
DBM-10,DbContext - RenterRedTags DbSet,BiketaBaiDbContext has DbSet for RenterRedTags.,,
DBM-11,DbContext - BikeConditionPhotos DbSet,BiketaBaiDbContext has DbSet for BikeConditionPhotos.,,
DBM-12,OnModelCreating - Foreign Keys,OnModelCreating method configures all foreign key relationships correctly.,,
Service Registration,,,,
SRV-01,RenterFlagService Registration,RenterFlagService is registered as scoped service in Program.cs.,,
SRV-02,BookingAutoCancelService Registration,BookingAutoCancelService is registered as hosted service in Program.cs.,,
SRV-03,BikeDamageService Registration,BikeDamageService is registered as scoped service in Program.cs.,,
SRV-04,RenterRedTagService Registration,RenterRedTagService is registered as scoped service in Program.cs.,,

