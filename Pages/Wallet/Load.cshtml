@page
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]
@model LoadWalletModel
@{
    ViewData["Title"] = "Load Wallet";
}

<div class="page-container">
    <div style="max-width: 600px; margin: 0 auto;">
        <div class="page-header">
            <h1 class="page-title">
                <i class="bi bi-plus-circle"></i> Load Wallet
            </h1>
        </div>

        <!-- Current Balance -->
        <div class="card-minimal mb-4">
            <div style="text-align: center;">
                <div style="font-size: 0.875rem; color: var(--neutral-600); margin-bottom: var(--space-2);">Current Balance</div>
                <div style="font-size: 2.5rem; font-weight: 700; color: var(--sage-primary);">
                    ₱@Model.CurrentBalance.ToString("F2")
                </div>
            </div>
        </div>

        @if (!string.IsNullOrEmpty(Model.ErrorMessage))
        {
            <div class="alert-minimal alert-minimal-error mb-4">
                <i class="bi bi-exclamation-triangle-fill"></i>
                <div>@Model.ErrorMessage</div>
            </div>
        }

        <!-- Load Form -->
        <div class="card-minimal">
            <form method="post">
                <div class="form-group-minimal">
                    <label asp-for="Input.Amount" class="label-minimal">
                        Amount to Load (₱) <span class="req">*</span>
                    </label>
                    <input asp-for="Input.Amount" 
                           class="input-minimal" 
                           type="number" 
                           step="0.01" 
                           min="1" 
                           required 
                           autofocus 
                           placeholder="Enter amount" />
                    <span asp-validation-for="Input.Amount" class="field-error"></span>
                </div>

                <div class="form-group-minimal">
                    <label class="label-minimal">Payment Method <span class="req">*</span></label>
                    <div style="display: flex; flex-direction: column; gap: var(--space-2);">
                        <label style="display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3); border: 1.5px solid var(--neutral-300); border-radius: var(--radius-md); cursor: pointer; transition: all var(--transition-base);" 
                               onmouseover="this.style.borderColor='var(--sage-primary)'; this.style.background='var(--sage-subtle)';" 
                               onmouseout="this.style.borderColor='var(--neutral-300)'; this.style.background='white';">
                            <input class="form-check-input" 
                                   type="radio" 
                                   asp-for="Input.PaymentMethodId" 
                                   value="2" 
                                   checked 
                                   style="margin: 0; cursor: pointer;" />
                            <i class="bi bi-phone" style="font-size: 1.5rem; color: var(--sage-primary);"></i>
                            <div>
                                <strong>GCash</strong>
                                <div style="font-size: 0.8125rem; color: var(--neutral-500);">Mobile wallet payment</div>
                            </div>
                        </label>
                        <label style="display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3); border: 1.5px solid var(--neutral-300); border-radius: var(--radius-md); cursor: pointer; transition: all var(--transition-base);" 
                               onmouseover="this.style.borderColor='var(--sage-primary)'; this.style.background='var(--sage-subtle)';" 
                               onmouseout="this.style.borderColor='var(--neutral-300)'; this.style.background='white';">
                            <input class="form-check-input" 
                                   type="radio" 
                                   asp-for="Input.PaymentMethodId" 
                                   value="3" 
                                   style="margin: 0; cursor: pointer;" />
                            <i class="bi bi-qr-code" style="font-size: 1.5rem; color: var(--sage-primary);"></i>
                            <div>
                                <strong>QRPH</strong>
                                <div style="font-size: 0.8125rem; color: var(--neutral-500);">QR code payment</div>
                            </div>
                        </label>
                    </div>
                </div>

                <div class="btn-group-premium">
                    <button type="submit" class="btn-minimal btn-minimal-primary">
                        <i class="bi bi-check-circle"></i> Confirm Load
                    </button>
                    <a href="/Wallet/Index" class="btn-minimal btn-minimal-ghost">
                        Cancel
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
